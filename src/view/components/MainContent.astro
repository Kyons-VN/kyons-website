---
import InteractiveLayer from '@components/InteractiveLayer';
import { DesktopBackground } from './backgrounds/DesktopBackground';

export interface Props {
  l: any;
}

const { l } = Astro.props;
---

<div class='w-full h-[calc(100vh_-_78px)] md:h-full flex relative'>
  <div class='md:fixed md:left-[168px] top-0 left-0 w-full h-[calc(100vh_-_102px)] md:h-full flex'>
    <DesktopBackground client:only />
  </div>
  <div class='absolute top-0 left-0 w-full h-full'><InteractiveLayer l={l} client:only /></div>
</div>
<div
  id='popup'
  class='absolute w-full h-full bg-black bg-opacity-80 flex flex-col items-center justify-center z-30 p-6'
>
  <div class='flex flex-col w-full max-w-[700px] rounded-lg justify-start overflow-y-auto p-4 md:p-6 bg-white gap-6'>
    <img src='/images/waitlist-banner.jpg' alt='Waitlist Banner' class='rounded-lg' />
    <h4>Dừng khoảng chừng là 2 giây!</h4>
    <p>
      Phiên bản chính thức của Kyons với những nâng cấp thú vị và vô cùng hữu ích sắp được ra mắt. Để nhận được thông
      báo và trải nghiệm sớm nhất, cũng như giành lấy những món quà bất ngờ, bạn hãy cùng tham gia “Danh sách chờ” của
      Kyons nhé!
    </p>
    <div class='flex gap-2'>
      <button class='btn btn-outline flex-1 close'>Đóng</button>
      <a class='btn flex-1 close' href='http://student.kyons.vn/waitlist' target='_blank'>Đăng ký</a>
    </div>
  </div>
  <div class='h-[80px] md:h-0'></div>
</div>
<script is:inline>
  document.querySelector('body').classList.add('overflow-hidden');
  document.querySelectorAll('.close').forEach((e) => e.addEventListener('click', onClick));
  function onClick() {
    document.querySelector('body').classList.remove('overflow-hidden');
    document.querySelector('#popup').remove();
  }
</script>
<style>
  .overflow-hidden {
    overflow: hidden;
  }
</style>
